function getWebhooksTextArea(){return document.getElementById("webhooks")}function getSaveStatus(){return document.getElementById("save-status")}function getSaveButton(){return document.getElementById("save")}function save_options(){const a=getWebhooksTextArea();let b;try{b=JSON.parse(a.value)}catch(a){const b=getSaveStatus();return b.className="error",void(b.textContent="ERROR: Invalid json!")}chrome.storage.sync.set({webhooks:JSON.stringify(b)},()=>{chrome.runtime.reload();const a=getSaveStatus();a.className="",a.textContent="Options saved.",setTimeout(()=>{a.textContent="",window.close()},750)})}function restore_options(){chrome.storage.sync.get({webhooks:"[]"},a=>{const b=JSON.parse(a.webhooks),c=getWebhooksTextArea();c.value=JSON.stringify(b,null,2)})}document.addEventListener("DOMContentLoaded",restore_options);const saveButton=getSaveButton();saveButton.addEventListener("click",save_options);